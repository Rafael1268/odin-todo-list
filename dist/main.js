(()=>{"use strict";const e=document.querySelector("#addTaskBtn"),t=document.querySelector(".newTask");function n(e){const t=document.createElement("div");t.className="taskItem",t.id=e.taskId;const n=document.createElement("div");n.className="taskItemL",t.appendChild(n);const a=document.createElement("div");a.className="taskItemR",t.appendChild(a);const s=document.createElement("button");switch(s.classList.add("taskDoneBtn"),e.priority){case"1":s.classList.add("prior1");break;case"2":s.classList.add("prior2");break;case"3":s.classList.add("prior3")}n.appendChild(s);const c=document.createElement("p");c.innerText=e.task,n.appendChild(c);const r=document.createElement("h6");r.innerText=e.date,a.appendChild(r);const d=document.createElement("button");d.className="deleteBtn",d.innerHTML='<i class="fa-solid fa-trash"></i>',a.appendChild(d),d.addEventListener("click",(()=>function(e){const t=Number(e.target.parentElement.parentElement.parentElement.id),n=o.findIndex((e=>e.taskId===t));var a;-1!==n&&(o.splice(n,1),a=t,o.forEach((e=>a<e.taskId?void(e.taskId=e.taskId-1):void 0)),function(e){document.querySelectorAll("div.taskItem").forEach((t=>e<t.id?void(t.id=t.id-1):void 0))}(t),i())}(event))),taskDisplay.appendChild(t)}e.addEventListener("click",(()=>t.classList.toggle("hideTaskField")));const a=document.querySelector("#newTaskBtn"),s=document.querySelector("#sortBy"),c=document.querySelector("#searchbar");a.addEventListener("click",(()=>function(){const e=document.querySelector("#newTaskTxt"),t=document.querySelector("#newTaskDate"),n=document.querySelector("#newTaskPriority"),a=document.querySelector("#newTaskProject"),s=new d(e.value,t.value,n.value,a.value,o.length);o.push(s),i()}())),s.addEventListener("change",(()=>i())),c.addEventListener("change",(()=>i()));let o=[],r=[];function d(e,t,n,a,s){this.task=e,this.date=t,this.priority=n,this.project=a,this.taskId=s}function i(){console.log(o);const e=document.querySelector("#taskDisplay");!function(){switch(document.querySelector("#sortBy").value){case"dateDown":o.sort(((e,t)=>e.taskId-t.taskId));break;case"dateUp":o.sort(((e,t)=>t.taskId-e.taskId));break;case"priorDown":o.sort(((e,t)=>e.priority-t.priority));break;case"priorUp":o.sort(((e,t)=>t.priority-e.priority))}}(),function(){""===c.value&&(r=o);const e=o.filter((e=>e.task.toLowerCase().includes(c.value.toLowerCase())));r=e}(),e.innerHTML="",r.forEach((e=>{n(e)}))}})();