(()=>{"use strict";const e=document.querySelector("#addTaskBtn"),t=document.querySelector(".newTask");function n(e){const t=document.createElement("div");t.className="taskItem",t.id=e.taskId;const n=document.createElement("div");n.className="taskItemL",t.appendChild(n);const a=document.createElement("div");a.className="taskItemR",t.appendChild(a);const i=document.createElement("button");switch(i.classList.add("taskDoneBtn"),e.priority){case"1":i.classList.add("prior1");break;case"2":i.classList.add("prior2");break;case"3":i.classList.add("prior3")}n.appendChild(i),i.addEventListener("click",(()=>function(e){const t=Number(e.target.parentElement.parentElement.id),n=q.findIndex((e=>e.taskId===t));-1!==n&&(!1===q[n].taskDone?q[n].taskDone=!0:q[n].taskDone=!1,r(q),A())}(event)));const o=document.createElement("p");o.innerText=e.task,n.appendChild(o),!0===e.taskDone&&(i.classList.add("taskDone"),o.classList.add("taskComplete"));const s=document.createElement("h6");s.innerText=e.date,a.appendChild(s);const c=document.createElement("button");c.className="deleteBtn",c.innerHTML='<i class="fa-solid fa-trash"></i>',a.appendChild(c),c.addEventListener("click",(()=>function(e){const t=Number(e.target.parentElement.parentElement.parentElement.id),n=q.findIndex((e=>e.taskId===t));var a;-1!==n&&(q.splice(n,1),a=t,q.forEach((e=>a<e.taskId?void(e.taskId=e.taskId-1):void 0)),function(e){document.querySelectorAll("div.taskItem").forEach((t=>e<t.id?void(t.id=t.id-1):void 0))}(t),r(q),A())}(event))),taskDisplay.appendChild(t)}function r(e){try{return localStorage.setItem("storageArray",JSON.stringify(e)),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&storage&&0!==storage.length}}e.addEventListener("click",(()=>t.classList.toggle("hideTaskField"))),Math.pow(10,8);var a=36e5;function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function s(e,t){i(1,arguments);var n=t||{},r=null==n.additionalDigits?2:o(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,s=m(e);if(s.date){var c=f(s.date,r);a=p(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var u,l=a.getTime(),d=0;if(s.time&&(d=k(s.time),isNaN(d)))return new Date(NaN);if(!s.timezone){var g=new Date(l+d),v=new Date(0);return v.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),v.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),v}return u=D(s.timezone),isNaN(u)?new Date(NaN):new Date(l+d+u)}var c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m(e){var t,n={},r=e.split(c.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],c.timeZoneDelimiter.test(n.date)&&(n.date=e.split(c.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=c.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function f(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?a:100*i,restDateString:e.slice((r[1]||r[2]).length)}}function p(e,t){if(null===t)return new Date(NaN);var n=e.match(u);if(!n)return new Date(NaN);var r=!!n[4],a=g(n[1]),i=g(n[2])-1,o=g(n[3]),s=g(n[4]),c=g(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,s,c):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(h[t]||(w(e)?29:28))}(t,i,o)&&function(e,t){return t>=1&&t<=(w(e)?366:365)}(t,a)?(l.setUTCFullYear(t,i,Math.max(a,o)),l):new Date(NaN)}function g(e){return e?parseInt(e):1}function k(e){var t=e.match(l);if(!t)return NaN;var n=v(t[1]),r=v(t[2]),i=v(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*a+6e4*r+1e3*i:NaN}function v(e){return e&&parseFloat(e.replace(",","."))||0}function D(e){if("Z"===e)return 0;var t=e.match(d);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*a+6e4*i):NaN}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function w(e){return e%400==0||e%4==0&&e%100!=0}function y(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function N(e){i(1,arguments);var t=y(e);return t.setHours(0,0,0,0),t}function T(e,t){i(2,arguments);var n=N(e),r=N(t);return n.getTime()===r.getTime()}function S(e,t){i(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,s=null==a?0:o(a),c=null==n.weekStartsOn?s:o(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=y(e),l=u.getDay(),d=(l<c?7:0)+l-c;return u.setDate(u.getDate()-d),u.setHours(0,0,0,0),u}function b(e,t,n){i(2,arguments);var r=S(e,n),a=S(t,n);return r.getTime()===a.getTime()}const E=document.querySelector("#newTaskBtn"),I=document.querySelector("#sortBy"),C=document.querySelector("#searchbar"),L=document.querySelectorAll("button.sidebarBtn");E.addEventListener("click",(()=>function(){const e=document.querySelector("#newTaskTxt"),t=document.querySelector("#newTaskDate"),n=document.querySelector("#newTaskPriority"),a=document.querySelector("#newTaskProject"),i=new M(e.value,t.value,n.value,a.value,q.length);q.push(i),r(q),A()}())),I.addEventListener("change",(()=>A())),C.addEventListener("change",(()=>A())),L.forEach((e=>e.addEventListener("click",(()=>function(e){switch(e.target.textContent){case" All Tasks":O="all";break;case" Today":O="today";break;case" This Week":O="week";break;default:O=e.target.textContent}A()}(event)))));let q=[],x=[],U=[],O="all";const j=localStorage.getItem("storageArray")?JSON.parse(localStorage.getItem("storageArray")):[];function M(e,t,n,r,a){this.task=e,this.date=t,this.priority=n,this.project=r,this.taskId=a,this.taskDone=!1}function A(){const e=document.querySelector("#taskDisplay");!function(){switch(document.querySelector("#sortBy").value){case"dateDown":q.sort(((e,t)=>e.taskId-t.taskId));break;case"dateUp":q.sort(((e,t)=>t.taskId-e.taskId));break;case"priorDown":q.sort(((e,t)=>e.priority-t.priority));break;case"priorUp":q.sort(((e,t)=>t.priority-e.priority))}}(),function(){const e=document.querySelector("#currentFilter");switch(O){case"all":e.innerText="All Tasks",x=q;break;case"today":e.innerText="Due Today",function(){const e=q.filter((e=>function(e){return i(1,arguments),T(e,Date.now())}(s(e.date))));x=e}();break;case"week":e.innerText="Due This Week",function(){const e=q.filter((e=>function(e,t){return i(1,arguments),b(e,Date.now(),t)}(s(e.date))));x=e}();break;default:filterByProject()}}(),function(){""===C.value&&(U=x);const e=x.filter((e=>e.task.toLowerCase().includes(C.value.toLowerCase())));U=e}(),e.innerHTML="",U.forEach((e=>{n(e)}))}q=j,A()})();