(()=>{"use strict";document.querySelector("#newTaskBtn").addEventListener("click",(()=>function(){const e=document.querySelector(".newTask"),t=document.querySelector("#newTaskTxt"),c=document.querySelector("#newTaskDate"),r=document.querySelector("#newTaskPriority"),i=document.querySelector("#newTaskProject"),o=new s(t.value,c.value,r.value,i.value);n.push(o),a(),e.id="hideNewTaskField"}())),document.querySelector("#addTaskBtn").addEventListener("click",(()=>function(){const e=document.querySelector(".newTask");"hideNewTaskField"===e.id?e.removeAttribute("id"):e.id="hideNewTaskField"}()));const e=document.querySelector("#sortBy");e.addEventListener("change",(()=>a()));const t=document.querySelector("#searchbar");t.addEventListener("change",(()=>a()));let n=[];function s(e,t,n,s){this.task=e,this.date=t,this.priority=n,this.project=s,this.taskDone=!1,this.toggleDone=()=>{!1===this.taskDone?this.taskDone=!0:this.taskDone=!1}}function a(){if(0===n.length)return;const s=document.querySelector("#taskDisplay");s.innerHTML="";let c=0;(function(t){switch(e.value){case"dateDown":return t;case"dateUp":return t.slice().reverse();case"priorDown":return t.slice().sort(((e,t)=>e.priority-t.priority));case"priorUp":return t.slice().sort(((e,t)=>t.priority-e.priority))}})(""===t.value?n:n.filter((e=>e.task.includes(t.value)))).forEach((e=>{const t=document.createElement("div");t.className="taskItem",t.id=c;const r=document.createElement("div");r.className="taskItemL",t.appendChild(r);const i=document.createElement("div");i.className="taskItemR",t.appendChild(i);const o=document.createElement("button");switch(o.classList.add("taskDoneBtn"),e.priority){case"1":o.classList.add("prior1");break;case"2":o.classList.add("prior2");break;case"3":o.classList.add("prior3")}r.appendChild(o),o.addEventListener("click",(()=>function(e){const t=e.srcElement.parentElement.parentElement.id;console.log(n[t].taskDone),!1===n[t].taskDone?(n[t].toggleDone(),e.target.classList.add("taskDone"),e.srcElement.nextElementSibling.classList.add("taskComplete")):(n[t].toggleDone(),e.target.classList.remove("taskDone"),e.srcElement.nextElementSibling.classList.remove("taskComplete"))}(event)));const l=document.createElement("p");l.innerText=e.task,r.appendChild(l);const d=document.createElement("h6");d.innerText=e.date,i.appendChild(d);const u=document.createElement("button");u.className="deleteBtn",u.innerHTML='<i class="fa-solid fa-trash"></i>',i.appendChild(u),u.addEventListener("click",(()=>function(e){const t=event.srcElement.parentElement.parentElement.id;n.splice(t,1),a()}())),s.appendChild(t),c++}))}a()})();